[
  {
    "key": "clubSection",
    "model": "players",
    "type": "section",
    "primaryAttribute": "current_club_id",
    "aggregates": [{
      "attribute":"market_value_in_gbp",
      "types":["sum"]
    }]
  },
  {
    "key": "players",
    "keyProperty": "player_id",
    "meta": {
      "name": "players Model",
      "description": "Entity \"players\""
    },
    "references": [
      {
        "key": "current_club_id",
        "model": "clubs",
        "type": "singleValued",
        "meta": {
          "name": "Current club id",
          "description": "Reference to clubs based on the current club id of the player"
        }
      },
      {
        "key": "player_valuations",
        "model": "valuations",
        "type": "multiValued",
        "resolve": {
          "reference": "player_id",
          "model": "valuations"
        },
        "meta": {
          "name": "Player valuations",
          "description": "Resolved reference of the valuations based on the player's id"
        }
      },
      {
        "key": "foot",
        "type": "singleValued",
        "model": "foot",
        "filter": {
          "calculateFacets": true,
          "excludeZeros": false
        },
        "meta": {
          "name": "Preferred foot",
          "description": "The player's preferred foot (model foot is autogenerated)"
        }
      },
      {
        "key": "position",
        "type": "singleValued",
        "model": "position",
        "filter": {
          "calculateFacets": true,
          "excludeZeros": false
        },
        "meta": {
          "name": "Position",
          "description": "The player's preferred position (model position is autogenerated)"
        }
      }
    ],
    "properties": [
      {
        "key": "currentClubName",
        "type": "string",
        "derive": {
          "localReference": "current_club_id",
          "remoteProperty": "pretty_name"
        },
        "filter": true,
        "meta": {
          "name": "Current club name",
          "description": "Name of the current club of the player"
        }
      },
      {
        "key": "all_market_values",
        "type": "Array<int>",
        "derive": {
          "localReference": "player_valuations",
          "remoteProperty": "market_value"
        },
        "filter": true,
        "meta": {
          "name": "Market values",
          "description": "Array<int> of the market values of the player"
        }
      },
      {
        "key": "market_value_in_gbp",
        "type": "int",
        "filter": true,
        "aggregate": true,
        "meta": {
          "name": "Market value in GBP",
          "description": "Current market value of the player in GBP"
        }
      },
      {
        "key": "pretty_name",
        "type": "string",
        "filter": true,
        "meta": {
          "name": "Pretty name",
          "description": "Full name of the player"
        }
      },
      {
        "key": "last_season",
        "type": "int",
        "filter":true,
        "meta": {
          "name": "Last season",
          "description": "Last season the player played"
        }
      },
      {
        "key": "country_of_birth",
        "type": "string",
        "filter":true,
        "meta": {
          "name": "Country of birth",
          "description": "Country in which the player was born"
        }
      },
      {
        "key": "country_of_citizenship",
        "type": "string",
        "filter": true,
        "meta": {
          "name": "Country of citizenship",
          "description": "Country in which the player currently lives"
        }
      },
      {
        "key": "date_of_birth",
        "type": "date",
        "filter": true,
        "meta": {
          "name": "Birthday",
          "description": "Birthday of the player"
        }
      },
      {
        "key": "height_in_cm",
        "type": "int",
        "filter": true,
        "meta": {
          "name": "Height",
          "description": "Height of the player in cm"
        }
      },
      {
        "key": "agent_name",
        "type": "string",
        "filter":true,
        "meta": {
          "name": "Agent name",
          "description": "Name of the player's agent"
        }
      },
      {
        "key": "image_url",
        "type": "string",
        "meta": {
          "name": "Image URL",
          "description": "URL of the current player image on transfermarkt"
        }
      }
    ]
  }
]
